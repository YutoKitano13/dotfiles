---
name: simplify-after-impl
description: "コードの実装完了後に呼び出されるスキル。gitで差分を確認し、code-simplifierサブエージェントを使用してコードを簡素化する。'simplify', 'simplify code', '簡素化', 'コードを整理'などのトリガーで起動。"
---

# Simplify After Implementation

コード実装後に差分を確認し、自動的にコードを簡素化するスキルです。

## 使用タイミング

- 実装タスクが完了した後
- ユーザーが「simplify」「簡素化」「コードを整理」と言った時
- 大きな機能実装の後のクリーンアップとして

## ワークフロー

### 1. Git差分の確認

まず、現在の実装内容を確認します：

```bash
# ステージング済み・未ステージングの変更を確認
git diff HEAD

# 変更されたファイル一覧を取得
git diff --name-only HEAD
```

### 2. 変更内容の分析

差分から以下を特定します：

- 新しく追加されたコード
- 変更されたファイルのパス
- 変更の規模と複雑さ

### 3. code-simplifierサブエージェントの呼び出し

Taskツールを使用してcode-simplifierサブエージェントを起動します：

```
Task tool:
  subagent_type: code-simplifier
  prompt: "最近変更されたコードを確認し、簡素化してください。変更ファイル: [ファイル一覧]"
```

code-simplifierの機能：
- コードの明確性、一貫性、保守性を向上
- 機能を保持しながらリファクタリング
- 不要な複雑さを削減

### 4. 結果の報告

- 簡素化された箇所のサマリーを報告
- 必要に応じてユーザーに確認を求める

## 注意事項

- 機能的な変更は行わない（動作は保持）
- 変更が大きすぎる場合はユーザーに確認を取る
- テストがある場合は、簡素化後にテストが通ることを確認
